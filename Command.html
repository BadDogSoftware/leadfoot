<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: leadfoot/Command</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: leadfoot/Command</h1>

    



<section>

<header>
    <h2>
    leadfoot/Command
    </h2>
    
</header>

<article>
    <div class="container-overview">
    
        
<dt>
    <h4 class="name" id="module:leadfoot/Command"><span class="type-signature"></span>new require("leadfoot/Command")<span class="signature">(parent, initialiser, <span class="optional">errback</span>)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        A Command is a chainable object that can be used to execute commands serially against a remote environment using
a fluid interface.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>parent</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a></span>
|

<span class="param-type"><a href="Session.html">module:leadfoot/Session</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The parent command that this command is chained to, or a <a href="Session.html">module:leadfoot/Session</a> object if this is the
first command in a command chain.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>initialiser</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">A function that will be executed when all parent commands have completed execution. This function can create a
new context for this command by calling the passed `setContext` function any time prior to resolving the Promise
that it returns. If no context is explicitly provided, the context from the parent command will be used.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>errback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A function that will be executed if any parent commands failed to complete successfully. This function can create
a new context for the current command by calling the passed `setContext` function any time prior to resolving the
Promise that it returns. If no context is explicitly provided, the context from the parent command will be used.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

    

    
        

        
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt>
    <h4 class="name" id="parent"><span class="type-signature">&lt;readonly> </span>parent<span class="type-signature"> :<a href="Command.html">module:leadfoot/Command</a></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        The parent Command of the command, if one exists.
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a></span>


            </li>
        </ul>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line124">line 124</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        
            
<dt>
    <h4 class="name" id="session"><span class="type-signature">&lt;readonly> </span>session<span class="type-signature"> :<a href="Session.html">module:leadfoot/Session</a></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        The parent Session of the command.
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type"><a href="Session.html">module:leadfoot/Session</a></span>


            </li>
        </ul>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="Command.addElementMethod"><span class="type-signature">&lt;static> </span>Command.addElementMethod<span class="signature">(target, key)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Augments `target` with a method that will call `key` on all context elements stored within `target`.
This can be used to easily add new methods from any custom object that implements the Element API to any target
object that implements the Command API.

Functions that are copied may have the following extra properties in order to change the way that Command works
with these functions:

- `createsContext` (boolean): If this property is specified, the return value from the function will be used as
  the new context for the returned Command.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>target</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line324">line 324</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="Command.addSessionMethod"><span class="type-signature">&lt;static> </span>Command.addSessionMethod<span class="signature">(target, key, originalFn)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Augments `target` with a conversion of the `originalFn` method that enables its use with a Command object.
This can be used to easily add new methods from any custom object that implements the Session API to any target
object that implements the Command API.

Functions that are copied may have the following extra properties in order to change the way that Command works
with these functions:

- `createsContext` (boolean): If this property is specified, the return value from the function will be used as
  the new context for the returned Command.
- `usesElement` (boolean): If this property is specified, element(s) from the current context will be used as
  the first argument to the function, if the explicitly specified first argument is not already an element.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>target</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>originalFn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="always"><span class="type-signature"></span>always<span class="signature">(callback)</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;any>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Adds a callback to be invoked once the previously chained operations have resolved.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line224">line 224</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;any></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="cancel"><span class="type-signature"></span>cancel<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;void>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Cancels all outstanding chained operations of the Command. Calling this method will cause all chained
operations to fail with a CancelError.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line234">line 234</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;void></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="end"><span class="type-signature"></span>end<span class="signature">(<span class="optional">numCommandsToPop</span>)</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;void>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Ends the most recent filtering operation in the current Command chain and returns the most recent Command
with a different element match state.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>numCommandsToPop</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The number of element contexts to pop. Defaults to 1.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line173">line 173</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;void></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="otherwise"><span class="type-signature"></span>otherwise<span class="signature">(errback)</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;any>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Adds a callback to be invoked when any of the previously chained operations have failed.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>errback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line214">line 214</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;any></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="sleep"><span class="type-signature"></span>sleep<span class="signature">(ms)</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;void>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Pauses execution of the next command in the chain for `ms` milliseconds.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Time to delay, in milliseconds.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;void></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="then"><span class="type-signature"></span>then<span class="signature">(<span class="optional">callback</span>, <span class="optional">errback</span>)</span><span class="type-signature"> &rarr; {<a href="Command.html">module:leadfoot/Command</a>.&lt;any>}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Adds a callback to be invoked once the previously chained operation has completed. Command callbacks
receive a second non-standard argument, `setContext`, which allows callbacks to create new contexts for
subsequent chained commands.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>errback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line200">line 200</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Command.html">module:leadfoot/Command</a>.&lt;any></span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="createElementMethod"><span class="type-signature">&lt;inner> </span>createElementMethod<span class="signature">(method)</span><span class="type-signature"> &rarr; {function}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Creates a function that, when called, creates a new Command that retrieves elements from the parent context and
uses them as the context for the newly created Command.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Command.js.html">Command.js</a>, <a href="Command.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

        

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="Command.html">leadfoot/Command</a></li><li><a href="Element.html">leadfoot/Element</a></li><li><a href="keys.html">leadfoot/keys</a></li><li><a href="ProxiedSession.html">leadfoot/ProxiedSession</a></li><li><a href="Server.html">leadfoot/Server</a></li><li><a href="Session.html">leadfoot/Session</a></li><li><a href="util.html">leadfoot/util</a></li></ul><h3>Global</h3><ul><li><a href="global.html#deprecate">deprecate</a></li><li><a href="global.html#deprecateElementAndStandardSig">deprecateElementAndStandardSig</a></li><li><a href="global.html#deprecateElementSig">deprecateElementSig</a></li><li><a href="global.html#warn">warn</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Tue Jun 03 2014 16:29:10 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>